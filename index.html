<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ruby on Rails Cheat Sheet</title>
    <link href="https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@400;500;600;700&family=Outfit:wght@300;400;500;600;700;800;900&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <!-- Hero Section -->
    <header class="hero">
        <div class="hero-content">
            <div class="logo-container">
                <svg class="ruby-gem" viewBox="0 0 100 100" xmlns="http://www.w3.org/2000/svg">
                    <defs>
                        <linearGradient id="rubyGrad" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#CC342D"/>
                            <stop offset="50%" style="stop-color:#D30001"/>
                            <stop offset="100%" style="stop-color:#8B0000"/>
                        </linearGradient>
                        <linearGradient id="rubyShine" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" style="stop-color:#FF6B6B;stop-opacity:0.8"/>
                            <stop offset="100%" style="stop-color:#CC342D;stop-opacity:0"/>
                        </linearGradient>
                    </defs>
                    <polygon points="50,5 95,35 95,75 50,95 5,75 5,35" fill="url(#rubyGrad)" stroke="#8B0000" stroke-width="2"/>
                    <polygon points="50,5 50,95 5,75 5,35" fill="url(#rubyShine)"/>
                    <polygon points="50,5 95,35 50,50 5,35" fill="rgba(255,255,255,0.1)"/>
                    <line x1="50" y1="5" x2="50" y2="95" stroke="#8B0000" stroke-width="1" opacity="0.5"/>
                    <line x1="5" y1="35" x2="95" y2="75" stroke="#8B0000" stroke-width="1" opacity="0.3"/>
                    <line x1="95" y1="35" x2="5" y2="75" stroke="#8B0000" stroke-width="1" opacity="0.3"/>
                </svg>
            </div>
            <h1>Ruby on Rails</h1>
            <p class="tagline">Complete Cheat Sheet & Reference Guide</p>
            <span class="version-badge">Rails 7+ Compatible</span>
        </div>
    </header>

    <div class="container">
        <!-- MVC Architecture Section -->
        <section class="section">
            <div class="section-header">
                <div class="section-icon" style="background: var(--gradient-ruby);">
                    <span>üèóÔ∏è</span>
                </div>
                <h2>MVC Architecture</h2>
            </div>
            
            <div class="mvc-diagram">
                <div class="mvc-visual">
                    <div class="mvc-box model">
                        <h3>Model</h3>
                        <p>Business logic & data. Interacts with database via Active Record.</p>
                    </div>
                    <span class="mvc-arrow">‚ü∑</span>
                    <div class="mvc-box controller">
                        <h3>Controller</h3>
                        <p>Handles requests, processes data, returns responses.</p>
                    </div>
                    <span class="mvc-arrow">‚ü∑</span>
                    <div class="mvc-box view">
                        <h3>View</h3>
                        <p>User interface. ERB templates render HTML.</p>
                    </div>
                </div>

                <div class="mvc-flow">
                    <div class="flow-step">
                        <span class="flow-step-number">1</span>
                        <h4>Browser sends request</h4>
                        <p>User clicks link or submits form ‚Üí HTTP request sent to server</p>
                    </div>
                    <div class="flow-step">
                        <span class="flow-step-number">2</span>
                        <h4>Router matches URL</h4>
                        <p>config/routes.rb maps URL to controller#action</p>
                    </div>
                    <div class="flow-step">
                        <span class="flow-step-number">3</span>
                        <h4>Controller processes</h4>
                        <p>Action method executes, interacts with Model</p>
                    </div>
                    <div class="flow-step">
                        <span class="flow-step-number">4</span>
                        <h4>Model queries database</h4>
                        <p>Active Record fetches/saves data from/to database</p>
                    </div>
                    <div class="flow-step">
                        <span class="flow-step-number">5</span>
                        <h4>View renders response</h4>
                        <p>ERB template generates HTML with data</p>
                    </div>
                    <div class="flow-step">
                        <span class="flow-step-number">6</span>
                        <h4>Browser displays</h4>
                        <p>HTML returned to browser, page rendered</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Generate Commands Section -->
        <section class="section">
            <div class="section-header">
                <div class="section-icon" style="background: linear-gradient(135deg, var(--accent-green) 0%, #238636 100%);">
                    <span>‚ö°</span>
                </div>
                <h2>Generate Commands</h2>
            </div>

            <div class="command-grid">
                <div class="command-card">
                    <h3>New Rails App</h3>
                    <div class="command-box">
                        <code>rails new myapp</code><br>
                        <code>rails new myapp --database=postgresql</code><br>
                        <code>rails new myapp --css=tailwind</code><br>
                        <code>rails new myapp --api</code> <span class="comment"># API only</span>
                    </div>
                    <p>Creates a new Rails application with all necessary files and directories.</p>
                </div>

                <div class="command-card">
                    <h3>Generate Model</h3>
                    <div class="command-box">
                        <code>rails generate model Product</code><br>
                        <code>rails g model Product name:string price:decimal</code><br>
                        <code>rails g model Order user:references total:decimal</code>
                    </div>
                    <p>Creates model file, migration, and test files. Use <code>references</code> for associations.</p>
                </div>

                <div class="command-card">
                    <h3>Generate Controller</h3>
                    <div class="command-box">
                        <code>rails generate controller Products</code><br>
                        <code>rails g controller Products index show</code><br>
                        <code>rails g controller Admin::Products index</code>
                    </div>
                    <p>Creates controller, views for listed actions, helper, and test files.</p>
                </div>

                <div class="command-card">
                    <h3>Generate Scaffold</h3>
                    <div class="command-box">
                        <code>rails g scaffold Product name:string price:decimal</code><br>
                        <code>rails g scaffold Invoice number:string customer:references</code>
                    </div>
                    <p>Complete CRUD: model, migration, controller, views, routes, and tests.</p>
                </div>

                <div class="command-card">
                    <h3>Generate Migration</h3>
                    <div class="command-box">
                        <code>rails g migration AddCategoryToProducts category:string</code><br>
                        <code>rails g migration CreateJoinTableUsersRoles users roles</code><br>
                        <code>rails g migration RemovePriceFromProducts price:decimal</code>
                    </div>
                    <p>Naming convention auto-generates migration code for add/remove/create.</p>
                </div>

                <div class="command-card">
                    <h3>Database Commands</h3>
                    <div class="command-box">
                        <code>rails db:create</code> <span class="comment"># Create database</span><br>
                        <code>rails db:migrate</code> <span class="comment"># Run migrations</span><br>
                        <code>rails db:rollback</code> <span class="comment"># Undo last migration</span><br>
                        <code>rails db:seed</code> <span class="comment"># Run db/seeds.rb</span><br>
                        <code>rails db:reset</code> <span class="comment"># Drop, create, migrate, seed</span>
                    </div>
                    <p>Database management commands for setup and maintenance.</p>
                </div>

                <div class="command-card">
                    <h3>Development Server</h3>
                    <div class="command-box">
                        <code>bin/dev</code> <span class="comment"># Start with Procfile.dev (recommended)</span><br>
                        <code>rails server</code> <span class="comment"># Or: rails s</span><br>
                        <code>rails s -p 4000</code> <span class="comment"># Custom port</span><br>
                        <code>rails s -b 0.0.0.0</code> <span class="comment"># Bind to all interfaces</span>
                    </div>
                    <p><code>bin/dev</code> runs CSS/JS build processes alongside Rails server.</p>
                </div>

                <div class="command-card">
                    <h3>Rails Console</h3>
                    <div class="command-box">
                        <code>rails console</code> <span class="comment"># Or: rails c</span><br>
                        <code>rails c --sandbox</code> <span class="comment"># Rollback on exit</span><br>
                        <code>rails c -e production</code> <span class="comment"># Production env</span><br>
                        <code>rails dbconsole</code> <span class="comment"># Direct DB access</span>
                    </div>
                    <p>Interactive Ruby session with full Rails environment loaded.</p>
                </div>
            </div>
        </section>

        <!-- Naming Conventions Section -->
        <section class="section">
            <div class="section-header">
                <div class="section-icon" style="background: linear-gradient(135deg, var(--accent-purple) 0%, #8957E5 100%);">
                    <span>üìù</span>
                </div>
                <h2>Naming Conventions</h2>
            </div>

            <div class="naming-table">
                <table>
                    <thead>
                        <tr>
                            <th>Component</th>
                            <th>Convention</th>
                            <th>Example</th>
                            <th>File Location</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td class="type">Model (class)</td>
                            <td class="convention">CamelCase, Singular</td>
                            <td class="example">Product, LineItem, UserProfile</td>
                            <td>app/models/product.rb</td>
                        </tr>
                        <tr>
                            <td class="type">Model (file)</td>
                            <td class="convention">snake_case, singular</td>
                            <td class="example">product.rb, line_item.rb</td>
                            <td>app/models/</td>
                        </tr>
                        <tr>
                            <td class="type">Database Table</td>
                            <td class="convention">snake_case, plural</td>
                            <td class="example">products, line_items, user_profiles</td>
                            <td>Database</td>
                        </tr>
                        <tr>
                            <td class="type">Controller (class)</td>
                            <td class="convention">CamelCase, Plural + Controller</td>
                            <td class="example">ProductsController, LineItemsController</td>
                            <td>app/controllers/products_controller.rb</td>
                        </tr>
                        <tr>
                            <td class="type">Controller (file)</td>
                            <td class="convention">snake_case, plural</td>
                            <td class="example">products_controller.rb</td>
                            <td>app/controllers/</td>
                        </tr>
                        <tr>
                            <td class="type">View Directory</td>
                            <td class="convention">snake_case, plural</td>
                            <td class="example">products/, line_items/</td>
                            <td>app/views/products/</td>
                        </tr>
                        <tr>
                            <td class="type">View Files</td>
                            <td class="convention">action_name.html.erb</td>
                            <td class="example">index.html.erb, show.html.erb</td>
                            <td>app/views/products/index.html.erb</td>
                        </tr>
                        <tr>
                            <td class="type">Helper</td>
                            <td class="convention">CamelCase + Helper</td>
                            <td class="example">ProductsHelper</td>
                            <td>app/helpers/products_helper.rb</td>
                        </tr>
                        <tr>
                            <td class="type">Migration</td>
                            <td class="convention">CamelCase (descriptive)</td>
                            <td class="example">CreateProducts, AddPriceToProducts</td>
                            <td>db/migrate/20240115_create_products.rb</td>
                        </tr>
                        <tr>
                            <td class="type">Foreign Key</td>
                            <td class="convention">singular_model_id</td>
                            <td class="example">user_id, product_id, line_item_id</td>
                            <td>Database column</td>
                        </tr>
                        <tr>
                            <td class="type">Primary Key</td>
                            <td class="convention">id (automatic)</td>
                            <td class="example">id</td>
                            <td>Database column</td>
                        </tr>
                        <tr>
                            <td class="type">Join Table</td>
                            <td class="convention">alphabetical_model1_model2</td>
                            <td class="example">products_users, categories_products</td>
                            <td>Database</td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </section>

        <!-- Routes Section -->
        <section class="section">
            <div class="section-header">
                <div class="section-icon" style="background: linear-gradient(135deg, var(--accent-orange) 0%, var(--accent-yellow) 100%);">
                    <span>üõ§Ô∏è</span>
                </div>
                <h2>Routes & Routing</h2>
            </div>

            <div class="routes-visual">
                <div class="route-diagram">
                    <div class="route-node browser">üåê Browser Request<br><small>GET /products/1</small></div>
                    <span class="route-arrow">‚Üí</span>
                    <div class="route-node routes">üìã config/routes.rb<br><small>matches route</small></div>
                    <span class="route-arrow">‚Üí</span>
                    <div class="route-node controller">‚öôÔ∏è ProductsController#show<br><small>action called</small></div>
                </div>

                <div class="routes-code">
<span class="comment"># config/routes.rb</span>
Rails.application.routes.<span class="method">draw</span> <span class="keyword">do</span>
  <span class="comment"># Root route - homepage</span>
  <span class="method">root</span> <span class="string">"products#index"</span>
  <span class="comment"># Alternative syntax:</span>
  <span class="method">root</span> <span class="symbol">to:</span> <span class="string">"inventory#index"</span>

  <span class="comment"># RESTful resource routes (creates all 7 CRUD routes)</span>
  <span class="method">resources</span> <span class="symbol">:products</span>
  <span class="method">resources</span> <span class="symbol">:invoices</span>
  <span class="method">resources</span> <span class="symbol">:customers</span>

  <span class="comment"># Limit routes generated</span>
  <span class="method">resources</span> <span class="symbol">:articles</span>, <span class="symbol">only:</span> [<span class="symbol">:index</span>, <span class="symbol">:show</span>]
  <span class="method">resources</span> <span class="symbol">:comments</span>, <span class="symbol">except:</span> [<span class="symbol">:destroy</span>]

  <span class="comment"># Nested resources</span>
  <span class="method">resources</span> <span class="symbol">:invoices</span> <span class="keyword">do</span>
    <span class="method">resources</span> <span class="symbol">:line_items</span>
  <span class="keyword">end</span>
  <span class="comment"># Creates: /invoices/:invoice_id/line_items</span>

  <span class="comment"># Custom routes</span>
  <span class="method">get</span> <span class="string">"about"</span>, <span class="symbol">to:</span> <span class="string">"pages#about"</span>
  <span class="method">get</span> <span class="string">"dashboard"</span>, <span class="symbol">to:</span> <span class="string">"admin#dashboard"</span>, <span class="symbol">as:</span> <span class="symbol">:admin_dashboard</span>
  <span class="method">post</span> <span class="string">"search"</span>, <span class="symbol">to:</span> <span class="string">"products#search"</span>

  <span class="comment"># Member and collection routes</span>
  <span class="method">resources</span> <span class="symbol">:products</span> <span class="keyword">do</span>
    <span class="method">member</span> <span class="keyword">do</span>
      <span class="method">patch</span> <span class="symbol">:archive</span>  <span class="comment"># /products/:id/archive</span>
    <span class="keyword">end</span>
    <span class="method">collection</span> <span class="keyword">do</span>
      <span class="method">get</span> <span class="symbol">:export</span>    <span class="comment"># /products/export</span>
    <span class="keyword">end</span>
  <span class="keyword">end</span>

  <span class="comment"># Namespace for admin area</span>
  <span class="method">namespace</span> <span class="symbol">:admin</span> <span class="keyword">do</span>
    <span class="method">resources</span> <span class="symbol">:users</span>
  <span class="keyword">end</span>
  <span class="comment"># Creates: /admin/users ‚Üí Admin::UsersController</span>
<span class="keyword">end</span>
                </div>
            </div>
        </section>

        <!-- RESTful Actions Section -->
        <section class="section">
            <div class="section-header">
                <div class="section-icon" style="background: linear-gradient(135deg, var(--accent-blue) 0%, #1F6FEB 100%);">
                    <span>üéØ</span>
                </div>
                <h2>Controller Actions (RESTful)</h2>
            </div>

            <div class="restful-grid">
                <div class="action-card">
                    <span class="action-badge get">GET</span>
                    <div class="action-info">
                        <h4>index</h4>
                        <p class="path">/products ‚Üí products#index</p>
                        <p>List all resources. Typically fetches all records and renders a list view.</p>
                    </div>
                </div>

                <div class="action-card">
                    <span class="action-badge get">GET</span>
                    <div class="action-info">
                        <h4>show</h4>
                        <p class="path">/products/:id ‚Üí products#show</p>
                        <p>Display a single resource. Fetches one record by ID.</p>
                    </div>
                </div>

                <div class="action-card">
                    <span class="action-badge get">GET</span>
                    <div class="action-info">
                        <h4>new</h4>
                        <p class="path">/products/new ‚Üí products#new</p>
                        <p>Display form for creating a new resource. Initializes empty model instance.</p>
                    </div>
                </div>

                <div class="action-card">
                    <span class="action-badge post">POST</span>
                    <div class="action-info">
                        <h4>create</h4>
                        <p class="path">/products ‚Üí products#create</p>
                        <p>Save new resource to database. Receives form data, validates, and persists.</p>
                    </div>
                </div>

                <div class="action-card">
                    <span class="action-badge get">GET</span>
                    <div class="action-info">
                        <h4>edit</h4>
                        <p class="path">/products/:id/edit ‚Üí products#edit</p>
                        <p>Display form for editing existing resource. Pre-populates with current data.</p>
                    </div>
                </div>

                <div class="action-card">
                    <span class="action-badge patch">PATCH/PUT</span>
                    <div class="action-info">
                        <h4>update</h4>
                        <p class="path">/products/:id ‚Üí products#update</p>
                        <p>Update existing resource in database. Validates and saves changes.</p>
                    </div>
                </div>

                <div class="action-card">
                    <span class="action-badge delete">DELETE</span>
                    <div class="action-info">
                        <h4>destroy</h4>
                        <p class="path">/products/:id ‚Üí products#destroy</p>
                        <p>Remove resource from database. Typically redirects after deletion.</p>
                    </div>
                </div>
            </div>

            <h3 style="margin-top: 2rem; margin-bottom: 1rem; color: var(--text-primary);">Complete Controller Example</h3>
            <div class="routes-code">
<span class="comment"># app/controllers/products_controller.rb</span>
<span class="keyword">class</span> ProductsController &lt; ApplicationController
  <span class="method">before_action</span> <span class="symbol">:set_product</span>, <span class="symbol">only:</span> [<span class="symbol">:show</span>, <span class="symbol">:edit</span>, <span class="symbol">:update</span>, <span class="symbol">:destroy</span>]

  <span class="comment"># GET /products</span>
  <span class="keyword">def</span> <span class="method">index</span>
    <span class="variable">@products</span> = Product.<span class="method">all</span>
  <span class="keyword">end</span>

  <span class="comment"># GET /products/:id</span>
  <span class="keyword">def</span> <span class="method">show</span>
    <span class="comment"># @product is set by before_action</span>
  <span class="keyword">end</span>

  <span class="comment"># GET /products/new</span>
  <span class="keyword">def</span> <span class="method">new</span>
    <span class="variable">@product</span> = Product.<span class="method">new</span>
  <span class="keyword">end</span>

  <span class="comment"># POST /products</span>
  <span class="keyword">def</span> <span class="method">create</span>
    <span class="variable">@product</span> = Product.<span class="method">new</span>(product_params)
    <span class="keyword">if</span> <span class="variable">@product</span>.<span class="method">save</span>
      <span class="method">redirect_to</span> <span class="variable">@product</span>, <span class="symbol">notice:</span> <span class="string">"Product was successfully created."</span>
    <span class="keyword">else</span>
      <span class="method">render</span> <span class="symbol">:new</span>, <span class="symbol">status:</span> <span class="symbol">:unprocessable_entity</span>
    <span class="keyword">end</span>
  <span class="keyword">end</span>

  <span class="comment"># GET /products/:id/edit</span>
  <span class="keyword">def</span> <span class="method">edit</span>
    <span class="comment"># @product is set by before_action</span>
  <span class="keyword">end</span>

  <span class="comment"># PATCH/PUT /products/:id</span>
  <span class="keyword">def</span> <span class="method">update</span>
    <span class="keyword">if</span> <span class="variable">@product</span>.<span class="method">update</span>(product_params)
      <span class="method">redirect_to</span> <span class="variable">@product</span>, <span class="symbol">notice:</span> <span class="string">"Product was successfully updated."</span>
    <span class="keyword">else</span>
      <span class="method">render</span> <span class="symbol">:edit</span>, <span class="symbol">status:</span> <span class="symbol">:unprocessable_entity</span>
    <span class="keyword">end</span>
  <span class="keyword">end</span>

  <span class="comment"># DELETE /products/:id</span>
  <span class="keyword">def</span> <span class="method">destroy</span>
    <span class="variable">@product</span>.<span class="method">destroy</span>
    <span class="method">redirect_to</span> products_path, <span class="symbol">notice:</span> <span class="string">"Product was successfully deleted."</span>
  <span class="keyword">end</span>

  <span class="keyword">private</span>

  <span class="comment"># Callback to set @product for show, edit, update, destroy actions</span>
  <span class="keyword">def</span> <span class="method">set_product</span>
    <span class="variable">@product</span> = Product.<span class="method">find</span>(params[<span class="symbol">:id</span>])
  <span class="keyword">end</span>

  <span class="comment"># Strong parameters - whitelist allowed attributes</span>
  <span class="keyword">def</span> <span class="method">product_params</span>
    params.<span class="method">require</span>(<span class="symbol">:product</span>).<span class="method">permit</span>(<span class="symbol">:name</span>, <span class="symbol">:description</span>, <span class="symbol">:price</span>, <span class="symbol">:category_id</span>)
  <span class="keyword">end</span>
<span class="keyword">end</span>
            </div>

            <h3 style="margin-top: 2rem; margin-bottom: 1rem; color: var(--text-primary);">View Templates</h3>
            <p style="color: var(--text-secondary); margin-bottom: 1.5rem; font-size: 0.95rem;">ERB templates in <code>app/views/products/</code> that correspond to each controller action:</p>
            
            <div class="view-templates-grid">
                <div class="view-template-card">
                    <div class="view-template-header">
                        <span class="view-filename">index.html.erb</span>
                    </div>
                    <div class="view-template-code">
<span class="comment">&lt;!-- app/views/products/index.html.erb --&gt;</span>
<span class="html">&lt;h1&gt;</span>Products<span class="html">&lt;/h1&gt;</span>

<span class="erb">&lt;%=</span> <span class="method">link_to</span> <span class="string">"New Product"</span>, new_product_path <span class="erb">%&gt;</span>

<span class="erb">&lt;%</span> <span class="variable">@products</span>.<span class="method">each</span> <span class="keyword">do</span> |product| <span class="erb">%&gt;</span>
  <span class="html">&lt;div&gt;</span>
    <span class="erb">&lt;%=</span> <span class="method">link_to</span> product.name, product <span class="erb">%&gt;</span>
    <span class="erb">&lt;%=</span> <span class="method">number_to_currency</span>(product.price) <span class="erb">%&gt;</span>
    <span class="erb">&lt;%=</span> <span class="method">link_to</span> <span class="string">"Edit"</span>, edit_product_path(product) <span class="erb">%&gt;</span>
  <span class="html">&lt;/div&gt;</span>
<span class="erb">&lt;%</span> <span class="keyword">end</span> <span class="erb">%&gt;</span>
                    </div>
                </div>

                <div class="view-template-card">
                    <div class="view-template-header">
                        <span class="view-filename">show.html.erb</span>
                    </div>
                    <div class="view-template-code">
<span class="comment">&lt;!-- app/views/products/show.html.erb --&gt;</span>
<span class="html">&lt;h1&gt;</span><span class="erb">&lt;%=</span> <span class="variable">@product</span>.name <span class="erb">%&gt;</span><span class="html">&lt;/h1&gt;</span>

<span class="html">&lt;p&gt;</span><span class="erb">&lt;%=</span> <span class="variable">@product</span>.description <span class="erb">%&gt;</span><span class="html">&lt;/p&gt;</span>
<span class="html">&lt;p&gt;</span><span class="erb">&lt;%=</span> <span class="method">number_to_currency</span>(<span class="variable">@product</span>.price) <span class="erb">%&gt;</span><span class="html">&lt;/p&gt;</span>

<span class="erb">&lt;%=</span> <span class="method">link_to</span> <span class="string">"Edit"</span>, edit_product_path(<span class="variable">@product</span>) <span class="erb">%&gt;</span>
<span class="erb">&lt;%=</span> <span class="method">link_to</span> <span class="string">"Back"</span>, products_path <span class="erb">%&gt;</span>
<span class="erb">&lt;%=</span> <span class="method">button_to</span> <span class="string">"Delete"</span>, <span class="variable">@product</span>, <span class="symbol">method:</span> <span class="symbol">:delete</span> <span class="erb">%&gt;</span>
                    </div>
                </div>

                <div class="view-template-card">
                    <div class="view-template-header">
                        <span class="view-filename">new.html.erb</span>
                    </div>
                    <div class="view-template-code">
<span class="comment">&lt;!-- app/views/products/new.html.erb --&gt;</span>
<span class="html">&lt;h1&gt;</span>New Product<span class="html">&lt;/h1&gt;</span>

<span class="erb">&lt;%=</span> <span class="method">render</span> <span class="string">"form"</span>, <span class="symbol">product:</span> <span class="variable">@product</span> <span class="erb">%&gt;</span>

<span class="erb">&lt;%=</span> <span class="method">link_to</span> <span class="string">"Back"</span>, products_path <span class="erb">%&gt;</span>
                    </div>
                </div>

                <div class="view-template-card">
                    <div class="view-template-header">
                        <span class="view-filename">edit.html.erb</span>
                    </div>
                    <div class="view-template-code">
<span class="comment">&lt;!-- app/views/products/edit.html.erb --&gt;</span>
<span class="html">&lt;h1&gt;</span>Edit Product<span class="html">&lt;/h1&gt;</span>

<span class="erb">&lt;%=</span> <span class="method">render</span> <span class="string">"form"</span>, <span class="symbol">product:</span> <span class="variable">@product</span> <span class="erb">%&gt;</span>

<span class="erb">&lt;%=</span> <span class="method">link_to</span> <span class="string">"Back"</span>, products_path <span class="erb">%&gt;</span>
                    </div>
                </div>

                <div class="view-template-card full-width">
                    <div class="view-template-header">
                        <span class="view-filename">_form.html.erb</span>
                        <span class="partial-badge">partial</span>
                    </div>
                    <div class="view-template-code">
<span class="comment">&lt;!-- app/views/products/_form.html.erb (shared by new and edit) --&gt;</span>
<span class="erb">&lt;%=</span> <span class="method">form_with</span> <span class="symbol">model:</span> product <span class="keyword">do</span> |f| <span class="erb">%&gt;</span>
  <span class="erb">&lt;%</span> <span class="keyword">if</span> product.errors.<span class="method">any?</span> <span class="erb">%&gt;</span>
    <span class="html">&lt;div</span> <span class="symbol">id=</span><span class="string">"errors"</span><span class="html">&gt;</span>
      <span class="erb">&lt;%</span> product.errors.full_messages.<span class="method">each</span> <span class="keyword">do</span> |msg| <span class="erb">%&gt;</span>
        <span class="html">&lt;p&gt;</span><span class="erb">&lt;%=</span> msg <span class="erb">%&gt;</span><span class="html">&lt;/p&gt;</span>
      <span class="erb">&lt;%</span> <span class="keyword">end</span> <span class="erb">%&gt;</span>
    <span class="html">&lt;/div&gt;</span>
  <span class="erb">&lt;%</span> <span class="keyword">end</span> <span class="erb">%&gt;</span>

  <span class="erb">&lt;%=</span> f.<span class="method">label</span> <span class="symbol">:name</span> <span class="erb">%&gt;</span>
  <span class="erb">&lt;%=</span> f.<span class="method">text_field</span> <span class="symbol">:name</span> <span class="erb">%&gt;</span>

  <span class="erb">&lt;%=</span> f.<span class="method">label</span> <span class="symbol">:price</span> <span class="erb">%&gt;</span>
  <span class="erb">&lt;%=</span> f.<span class="method">number_field</span> <span class="symbol">:price</span>, <span class="symbol">step:</span> <span class="number">0.01</span> <span class="erb">%&gt;</span>

  <span class="erb">&lt;%=</span> f.<span class="method">submit</span> <span class="erb">%&gt;</span>
<span class="erb">&lt;%</span> <span class="keyword">end</span> <span class="erb">%&gt;</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Model & Active Record Section -->
        <section class="section">
            <div class="section-header">
                <div class="section-icon" style="background: linear-gradient(135deg, var(--accent-green) 0%, #238636 100%);">
                    <span>üóÑÔ∏è</span>
                </div>
                <h2>Model & Active Record</h2>
            </div>

            <p style="color: var(--text-secondary); margin-bottom: 1.5rem; font-size: 0.95rem;">Models in <code>app/models/</code> handle data, validations, associations, and business logic:</p>

            <div class="view-templates-grid">
                <div class="view-template-card">
                    <div class="view-template-header">
                        <span class="view-filename">Associations</span>
                    </div>
                    <div class="view-template-code">
<span class="comment"># app/models/product.rb</span>
<span class="keyword">class</span> <span class="method">Product</span> &lt; <span class="method">ApplicationRecord</span>
  <span class="comment"># Belongs to one category (product has category_id column)</span>
  <span class="method">belongs_to</span> <span class="symbol">:category</span>
  <span class="method">belongs_to</span> <span class="symbol">:category</span>, <span class="symbol">optional:</span> <span class="keyword">true</span>  <span class="comment"># Allow nil</span>

  <span class="comment"># Has one related record</span>
  <span class="method">has_one</span> <span class="symbol">:inventory</span>
  <span class="method">has_one</span> <span class="symbol">:supplier</span>, <span class="symbol">through:</span> <span class="symbol">:inventory</span>

  <span class="comment"># Has many related records</span>
  <span class="method">has_many</span> <span class="symbol">:line_items</span>
  <span class="method">has_many</span> <span class="symbol">:line_items</span>, <span class="symbol">dependent:</span> <span class="symbol">:destroy</span>  <span class="comment"># Delete when parent deleted</span>

  <span class="comment"># Has many through (many-to-many via join model)</span>
  <span class="method">has_many</span> <span class="symbol">:line_items</span>
  <span class="method">has_many</span> <span class="symbol">:orders</span>, <span class="symbol">through:</span> <span class="symbol">:line_items</span>

  <span class="comment"># Direct many-to-many (join table: categories_products)</span>
  <span class="method">has_and_belongs_to_many</span> <span class="symbol">:tags</span>
<span class="keyword">end</span>

<span class="comment"># app/models/category.rb</span>
<span class="keyword">class</span> <span class="method">Category</span> &lt; <span class="method">ApplicationRecord</span>
  <span class="method">has_many</span> <span class="symbol">:products</span>
<span class="keyword">end</span>
                    </div>
                </div>

                <div class="view-template-card">
                    <div class="view-template-header">
                        <span class="view-filename">Active Storage</span>
                    </div>
                    <div class="view-template-code">
<span class="comment"># Setup: rails active_storage:install && rails db:migrate</span>

<span class="comment"># app/models/product.rb</span>
<span class="keyword">class</span> <span class="method">Product</span> &lt; <span class="method">ApplicationRecord</span>
  <span class="comment"># Single file attachment</span>
  <span class="method">has_one_attached</span> <span class="symbol">:image</span>
  <span class="method">has_one_attached</span> <span class="symbol">:thumbnail</span>

  <span class="comment"># Multiple file attachments</span>
  <span class="method">has_many_attached</span> <span class="symbol">:documents</span>
  <span class="method">has_many_attached</span> <span class="symbol">:photos</span>
<span class="keyword">end</span>

<span class="comment"># In controller</span>
<span class="keyword">def</span> <span class="method">product_params</span>
  params.<span class="method">require</span>(<span class="symbol">:product</span>).<span class="method">permit</span>(<span class="symbol">:name</span>, <span class="symbol">:image</span>, <span class="symbol">documents:</span> [])
<span class="keyword">end</span>

<span class="comment"># In views</span>
&lt;%= <span class="method">image_tag</span> <span class="variable">@product</span>.image <span class="keyword">if</span> <span class="variable">@product</span>.image.<span class="method">attached?</span> %&gt;
&lt;%= <span class="method">image_tag</span> <span class="variable">@product</span>.image.<span class="method">variant</span>(<span class="symbol">resize_to_limit:</span> [<span class="number">300</span>, <span class="number">300</span>]) %&gt;
&lt;%= f.<span class="method">file_field</span> <span class="symbol">:image</span>, <span class="symbol">direct_upload:</span> <span class="keyword">true</span> %&gt;
                    </div>
                </div>

                <div class="view-template-card">
                    <div class="view-template-header">
                        <span class="view-filename">Validations</span>
                    </div>
                    <div class="view-template-code">
<span class="comment"># app/models/product.rb</span>
<span class="keyword">class</span> <span class="method">Product</span> &lt; <span class="method">ApplicationRecord</span>
  <span class="comment"># Presence - field cannot be blank</span>
  <span class="method">validates</span> <span class="symbol">:name</span>, <span class="symbol">presence:</span> <span class="keyword">true</span>
  <span class="method">validates</span> <span class="symbol">:name</span>, <span class="symbol">:description</span>, <span class="symbol">presence:</span> <span class="keyword">true</span>  <span class="comment"># Multiple fields</span>

  <span class="comment"># Uniqueness</span>
  <span class="method">validates</span> <span class="symbol">:sku</span>, <span class="symbol">uniqueness:</span> <span class="keyword">true</span>
  <span class="method">validates</span> <span class="symbol">:sku</span>, <span class="symbol">uniqueness:</span> { <span class="symbol">scope:</span> <span class="symbol">:category_id</span> }  <span class="comment"># Unique per category</span>

  <span class="comment"># Numericality</span>
  <span class="method">validates</span> <span class="symbol">:price</span>, <span class="symbol">numericality:</span> <span class="keyword">true</span>
  <span class="method">validates</span> <span class="symbol">:price</span>, <span class="symbol">numericality:</span> { <span class="symbol">greater_than:</span> <span class="number">0</span> }
  <span class="method">validates</span> <span class="symbol">:quantity</span>, <span class="symbol">numericality:</span> { <span class="symbol">only_integer:</span> <span class="keyword">true</span>, <span class="symbol">greater_than_or_equal_to:</span> <span class="number">0</span> }

  <span class="comment"># Length</span>
  <span class="method">validates</span> <span class="symbol">:name</span>, <span class="symbol">length:</span> { <span class="symbol">minimum:</span> <span class="number">2</span>, <span class="symbol">maximum:</span> <span class="number">100</span> }
  <span class="method">validates</span> <span class="symbol">:description</span>, <span class="symbol">length:</span> { <span class="symbol">maximum:</span> <span class="number">1000</span> }

  <span class="comment"># Format with regex</span>
  <span class="method">validates</span> <span class="symbol">:email</span>, <span class="symbol">format:</span> { <span class="symbol">with:</span> <span class="string">/\A[\w+\-.]+@[a-z\d\-.]+\.[a-z]+\z/i</span> }

  <span class="comment"># Inclusion/Exclusion</span>
  <span class="method">validates</span> <span class="symbol">:status</span>, <span class="symbol">inclusion:</span> { <span class="symbol">in:</span> %w[draft published archived] }

  <span class="comment"># Custom validation method</span>
  <span class="method">validate</span> <span class="symbol">:price_must_be_reasonable</span>

  <span class="keyword">private</span>

  <span class="keyword">def</span> <span class="method">price_must_be_reasonable</span>
    <span class="keyword">if</span> price.present? && price &gt; <span class="number">10000</span>
      errors.<span class="method">add</span>(<span class="symbol">:price</span>, <span class="string">"seems too high"</span>)
    <span class="keyword">end</span>
  <span class="keyword">end</span>
<span class="keyword">end</span>
                    </div>
                </div>

                <div class="view-template-card">
                    <div class="view-template-header">
                        <span class="view-filename">Scopes</span>
                    </div>
                    <div class="view-template-code">
<span class="comment"># app/models/product.rb</span>
<span class="keyword">class</span> <span class="method">Product</span> &lt; <span class="method">ApplicationRecord</span>
  <span class="comment"># Basic scopes</span>
  <span class="method">scope</span> <span class="symbol">:active</span>, -&gt; { <span class="method">where</span>(<span class="symbol">active:</span> <span class="keyword">true</span>) }
  <span class="method">scope</span> <span class="symbol">:inactive</span>, -&gt; { <span class="method">where</span>(<span class="symbol">active:</span> <span class="keyword">false</span>) }

  <span class="comment"># Scopes with conditions</span>
  <span class="method">scope</span> <span class="symbol">:expensive</span>, -&gt; { <span class="method">where</span>(<span class="string">"price > ?"</span>, <span class="number">100</span>) }
  <span class="method">scope</span> <span class="symbol">:cheap</span>, -&gt; { <span class="method">where</span>(<span class="string">"price <= ?"</span>, <span class="number">20</span>) }

  <span class="comment"># Scopes with ordering</span>
  <span class="method">scope</span> <span class="symbol">:newest</span>, -&gt; { <span class="method">order</span>(<span class="symbol">created_at:</span> <span class="symbol">:desc</span>) }
  <span class="method">scope</span> <span class="symbol">:by_name</span>, -&gt; { <span class="method">order</span>(<span class="symbol">:name</span>) }

  <span class="comment"># Scope with parameter</span>
  <span class="method">scope</span> <span class="symbol">:in_category</span>, -&gt;(category_id) { <span class="method">where</span>(<span class="symbol">category_id:</span> category_id) }
  <span class="method">scope</span> <span class="symbol">:price_between</span>, -&gt;(min, max) { <span class="method">where</span>(<span class="symbol">price:</span> min..max) }

  <span class="comment"># Scope with joins</span>
  <span class="method">scope</span> <span class="symbol">:with_orders</span>, -&gt; { <span class="method">joins</span>(<span class="symbol">:orders</span>).<span class="method">distinct</span> }
<span class="keyword">end</span>

<span class="comment"># Usage - scopes are chainable!</span>
Product.<span class="method">active</span>
Product.<span class="method">active</span>.<span class="method">expensive</span>.<span class="method">newest</span>
Product.<span class="method">in_category</span>(<span class="number">5</span>).<span class="method">active</span>.<span class="method">limit</span>(<span class="number">10</span>)
                    </div>
                </div>

                <div class="view-template-card">
                    <div class="view-template-header">
                        <span class="view-filename">Callbacks</span>
                    </div>
                    <div class="view-template-code">
<span class="comment"># app/models/product.rb</span>
<span class="keyword">class</span> <span class="method">Product</span> &lt; <span class="method">ApplicationRecord</span>
  <span class="comment"># Before callbacks - run before action</span>
  <span class="method">before_validation</span> <span class="symbol">:normalize_name</span>
  <span class="method">before_save</span> <span class="symbol">:set_slug</span>
  <span class="method">before_create</span> <span class="symbol">:set_defaults</span>

  <span class="comment"># After callbacks - run after action</span>
  <span class="method">after_create</span> <span class="symbol">:send_notification</span>
  <span class="method">after_save</span> <span class="symbol">:update_search_index</span>
  <span class="method">after_destroy</span> <span class="symbol">:cleanup_files</span>

  <span class="comment"># Around callbacks - wrap the action</span>
  <span class="method">around_save</span> <span class="symbol">:log_changes</span>

  <span class="comment"># Conditional callbacks</span>
  <span class="method">after_create</span> <span class="symbol">:send_welcome_email</span>, <span class="symbol">if:</span> <span class="symbol">:email_notifications?</span>
  <span class="method">before_save</span> <span class="symbol">:encrypt_data</span>, <span class="symbol">if:</span> -&gt; { sensitive_data_changed? }

  <span class="keyword">private</span>

  <span class="keyword">def</span> <span class="method">normalize_name</span>
    self.name = name.<span class="method">strip</span>.<span class="method">titleize</span> <span class="keyword">if</span> name.<span class="method">present?</span>
  <span class="keyword">end</span>

  <span class="keyword">def</span> <span class="method">set_slug</span>
    self.slug = name.<span class="method">parameterize</span> <span class="keyword">if</span> name_changed?
  <span class="keyword">end</span>

  <span class="keyword">def</span> <span class="method">send_notification</span>
    <span class="method">ProductMailer</span>.<span class="method">new_product</span>(self).<span class="method">deliver_later</span>
  <span class="keyword">end</span>
<span class="keyword">end</span>
                    </div>
                </div>
            </div>
        </section>

        <!-- Helpers Section -->
        <section class="section">
            <div class="section-header">
                <div class="section-icon" style="background: linear-gradient(135deg, var(--accent-pink) 0%, #DB61A2 100%);">
                    <span>üîß</span>
                </div>
                <h2>Rails View Helpers</h2>
            </div>

            <div class="helper-grid">
                <div class="helper-card">
                    <div class="helper-header">
                        <div class="helper-icon" style="background: rgba(88, 166, 255, 0.2); color: var(--accent-blue);">üîó</div>
                        <h3>link_to</h3>
                    </div>
                    <div class="helper-body">
                        <div class="helper-example">
<span style="color: var(--accent-green);">&lt;%= link_to "Products", products_path %&gt;</span>
<span style="color: var(--accent-green);">&lt;%= link_to "View", product_path(@product) %&gt;</span>
<span style="color: var(--accent-green);">&lt;%= link_to "Edit", edit_product_path(@product), class: "btn" %&gt;</span>
<span style="color: var(--accent-green);">&lt;%= link_to "Delete", @product, method: :delete, data: { turbo_confirm: "Sure?" } %&gt;</span>
                        </div>
                        <p>Generates anchor tags with proper Rails paths. Supports HTTP methods and Turbo confirmations.</p>
                    </div>
                </div>

                <div class="helper-card">
                    <div class="helper-header">
                        <div class="helper-icon" style="background: rgba(63, 185, 80, 0.2); color: var(--accent-green);">üí∞</div>
                        <h3>number_to_currency</h3>
                    </div>
                    <div class="helper-body">
                        <div class="helper-example">
<span style="color: var(--accent-green);">&lt;%= number_to_currency(1234.56) %&gt;</span>
<span style="color: var(--text-muted);"># ‚Üí $1,234.56</span>

<span style="color: var(--accent-green);">&lt;%= number_to_currency(1234.56, unit: "R", precision: 2) %&gt;</span>
<span style="color: var(--text-muted);"># ‚Üí R1,234.56</span>

<span style="color: var(--accent-green);">&lt;%= number_to_currency(@product.price, locale: :za) %&gt;</span>
                        </div>
                        <p>Formats numbers as currency with configurable symbols, precision, and locale support.</p>
                    </div>
                </div>

                <div class="helper-card">
                    <div class="helper-header">
                        <div class="helper-icon" style="background: rgba(163, 113, 247, 0.2); color: var(--accent-purple);">üñºÔ∏è</div>
                        <h3>image_tag</h3>
                    </div>
                    <div class="helper-body">
                        <div class="helper-example">
<span style="color: var(--accent-green);">&lt;%= image_tag "logo.png" %&gt;</span>
<span style="color: var(--accent-green);">&lt;%= image_tag "products/item.jpg", alt: "Product", class: "thumbnail" %&gt;</span>
<span style="color: var(--accent-green);">&lt;%= image_tag @product.image.variant(:thumb) %&gt;</span>
<span style="color: var(--text-muted);"># For Active Storage</span>
                        </div>
                        <p>Generates img tags for images in app/assets/images or Active Storage attachments.</p>
                    </div>
                </div>

                <div class="helper-card">
                    <div class="helper-header">
                        <div class="helper-icon" style="background: rgba(240, 136, 62, 0.2); color: var(--accent-orange);">üìù</div>
                        <h3>form_with</h3>
                    </div>
                    <div class="helper-body">
                        <div class="helper-example">
<span style="color: var(--accent-green);">&lt;%= form_with model: @product do |f| %&gt;</span>
  <span style="color: var(--accent-green);">&lt;%= f.label :name %&gt;</span>
  <span style="color: var(--accent-green);">&lt;%= f.text_field :name, class: "form-control" %&gt;</span>
  
  <span style="color: var(--accent-green);">&lt;%= f.label :price %&gt;</span>
  <span style="color: var(--accent-green);">&lt;%= f.number_field :price, step: 0.01 %&gt;</span>
  
  <span style="color: var(--accent-green);">&lt;%= f.select :category_id, Category.all.pluck(:name, :id) %&gt;</span>
  <span style="color: var(--accent-green);">&lt;%= f.check_box :active %&gt;</span>
  <span style="color: var(--accent-green);">&lt;%= f.text_area :description, rows: 5 %&gt;</span>
  
  <span style="color: var(--accent-green);">&lt;%= f.submit "Save", class: "btn btn-primary" %&gt;</span>
<span style="color: var(--accent-green);">&lt;% end %&gt;</span>
                        </div>
                        <p>Generates forms bound to model objects. Auto-detects create vs update based on record persistence.</p>
                    </div>
                </div>

                <div class="helper-card">
                    <div class="helper-header">
                        <div class="helper-icon" style="background: rgba(210, 153, 34, 0.2); color: var(--accent-yellow);">üìã</div>
                        <h3>Collection Helpers</h3>
                    </div>
                    <div class="helper-body">
                        <div class="helper-example">
<span style="color: var(--accent-green);">&lt;%= render @products %&gt;</span>
<span style="color: var(--text-muted);"># Renders _product.html.erb for each</span>

<span style="color: var(--accent-green);">&lt;%= render partial: "product", collection: @products %&gt;</span>

<span style="color: var(--accent-green);">&lt;%= collection_select :invoice, :customer_id, Customer.all, :id, :name %&gt;</span>

<span style="color: var(--accent-green);">&lt;%= options_for_select([["Small", 1], ["Large", 2]], @product.size) %&gt;</span>
                        </div>
                        <p>Efficiently render collections and generate select options from model data.</p>
                    </div>
                </div>

                <div class="helper-card">
                    <div class="helper-header">
                        <div class="helper-icon" style="background: rgba(204, 52, 45, 0.2); color: var(--ruby-red);">üî¢</div>
                        <h3>Number Helpers</h3>
                    </div>
                    <div class="helper-body">
                        <div class="helper-example">
<span style="color: var(--accent-green);">&lt;%= number_with_delimiter(1234567) %&gt;</span>
<span style="color: var(--text-muted);"># ‚Üí 1,234,567</span>

<span style="color: var(--accent-green);">&lt;%= number_with_precision(3.14159, precision: 2) %&gt;</span>
<span style="color: var(--text-muted);"># ‚Üí 3.14</span>

<span style="color: var(--accent-green);">&lt;%= number_to_percentage(75.5) %&gt;</span>
<span style="color: var(--text-muted);"># ‚Üí 75.500%</span>

<span style="color: var(--accent-green);">&lt;%= number_to_human(1234567) %&gt;</span>
<span style="color: var(--text-muted);"># ‚Üí 1.23 Million</span>
                        </div>
                        <p>Format numbers with delimiters, precision, percentages, and human-readable formats.</p>
                    </div>
                </div>

                <div class="helper-card">
                    <div class="helper-header">
                        <div class="helper-icon" style="background: rgba(88, 166, 255, 0.2); color: var(--accent-blue);">üìÖ</div>
                        <h3>Date/Time Helpers</h3>
                    </div>
                    <div class="helper-body">
                        <div class="helper-example">
<span style="color: var(--accent-green);">&lt;%= time_ago_in_words(@product.created_at) %&gt;</span>
<span style="color: var(--text-muted);"># ‚Üí "3 days ago"</span>

<span style="color: var(--accent-green);">&lt;%= distance_of_time_in_words(Time.now, @invoice.due_date) %&gt;</span>

<span style="color: var(--accent-green);">&lt;%= @order.created_at.strftime("%B %d, %Y") %&gt;</span>
<span style="color: var(--text-muted);"># ‚Üí "January 15, 2024"</span>

<span style="color: var(--accent-green);">&lt;%= l(@product.updated_at, format: :short) %&gt;</span>
                        </div>
                        <p>Format dates and calculate time differences in human-readable formats.</p>
                    </div>
                </div>

                <div class="helper-card">
                    <div class="helper-header">
                        <div class="helper-icon" style="background: rgba(163, 113, 247, 0.2); color: var(--accent-purple);">‚ú®</div>
                        <h3>Content Helpers</h3>
                    </div>
                    <div class="helper-body">
                        <div class="helper-example">
<span style="color: var(--accent-green);">&lt;%= truncate(@product.description, length: 100) %&gt;</span>

<span style="color: var(--accent-green);">&lt;%= simple_format(@product.notes) %&gt;</span>
<span style="color: var(--text-muted);"># Converts \n to &lt;br&gt; and wraps in &lt;p&gt;</span>

<span style="color: var(--accent-green);">&lt;%= sanitize(@content, tags: %w(p br strong em)) %&gt;</span>

<span style="color: var(--accent-green);">&lt;%= raw(@html_content) %&gt;</span>
<span style="color: var(--text-muted);"># Outputs unescaped HTML (use carefully!)</span>
                        </div>
                        <p>Manipulate and safely render text and HTML content.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Rails Components Section -->
        <section class="section">
            <div class="section-header">
                <div class="section-icon" style="background: var(--gradient-ruby);">
                    <span>üì¶</span>
                </div>
                <h2>Rails Components</h2>
            </div>

            <div class="component-grid">
                <div class="component-card hotwire">
                    <h3>‚ö° Hotwire</h3>
                    <p class="description">The default Rails 7 frontend stack combining Turbo and Stimulus for fast, SPA-like experiences without writing JavaScript for common interactions.</p>
                    <div class="usage">
<span style="color: var(--text-muted);"># Gemfile</span>
gem "turbo-rails"
gem "stimulus-rails"

<span style="color: var(--text-muted);"># Install</span>
rails turbo:install
rails stimulus:install
                    </div>
                </div>

                <div class="component-card turbo">
                    <h3>üöÄ Turbo</h3>
                    <p class="description">Navigate without full page reloads. Turbo Drive intercepts links, Turbo Frames update page sections, Turbo Streams broadcast changes in real-time.</p>
                    <div class="usage">
<span style="color: var(--text-muted);"># Turbo Frame in view</span>
&lt;%= turbo_frame_tag "products" do %&gt;
  &lt;%= render @products %&gt;
&lt;% end %&gt;

<span style="color: var(--text-muted);"># Turbo Stream response</span>
&lt;%= turbo_stream.append "products", @product %&gt;
&lt;%= turbo_stream.replace "product_1", @product %&gt;
                    </div>
                </div>

                <div class="component-card activerecord">
                    <h3>üóÑÔ∏è Active Record</h3>
                    <p class="description">ORM layer mapping Ruby objects to database tables. Handles queries, validations, associations, callbacks, and migrations.</p>
                    <div class="usage">
<span style="color: var(--text-muted);"># Model with validations & associations</span>
class Product < ApplicationRecord
  belongs_to :category
  has_many :line_items
  
  validates :name, presence: true
  validates :price, numericality: { greater_than: 0 }
  
  scope :active, -> { where(active: true) }
end

<span style="color: var(--text-muted);"># Queries</span>
Product.where(active: true).order(:name).limit(10)
Product.find_by(sku: "ABC123")
                    </div>
                </div>

                <div class="component-card actioncable">
                    <h3>üì° Action Cable</h3>
                    <p class="description">WebSocket framework for real-time features. Enables live updates, chat, notifications, and collaborative editing.</p>
                    <div class="usage">
<span style="color: var(--text-muted);"># Generate channel</span>
rails g channel Notifications

<span style="color: var(--text-muted);"># app/channels/notifications_channel.rb</span>
class NotificationsChannel < ApplicationCable::Channel
  def subscribed
    stream_from "notifications_#{current_user.id}"
  end
end

<span style="color: var(--text-muted);"># Broadcast from anywhere</span>
ActionCable.server.broadcast(
  "notifications_#{user.id}",
  { message: "New order received!" }
)
                    </div>
                </div>

                <div class="component-card activestorage">
                    <h3>üìé Active Storage</h3>
                    <p class="description">File upload handling for local disk, Amazon S3, Google Cloud, Azure. Supports image variants, direct uploads, and file analysis.</p>
                    <div class="usage">
<span style="color: var(--text-muted);"># Setup</span>
rails active_storage:install
rails db:migrate

<span style="color: var(--text-muted);"># Model</span>
class Product < ApplicationRecord
  has_one_attached :image
  has_many_attached :documents
end

<span style="color: var(--text-muted);"># View</span>
&lt;%= image_tag @product.image.variant(resize_to_limit: [300, 300]) %&gt;
&lt;%= f.file_field :image, direct_upload: true %&gt;
                    </div>
                </div>

                <div class="component-card authentication">
                    <h3>üîê Authentication (Rails 8)</h3>
                    <p class="description">Built-in authentication generator in Rails 8. Creates User model, sessions, password resets, and secure defaults.</p>
                    <div class="usage">
<span style="color: var(--text-muted);"># Generate authentication</span>
rails generate authentication

<span style="color: var(--text-muted);"># Creates:</span>
- User model with has_secure_password
- SessionsController
- PasswordsController  
- Authentication concern
- Views for login/signup/reset

<span style="color: var(--text-muted);"># Controller concern</span>
class ApplicationController < ActionController::Base
  include Authentication
end
                    </div>
                </div>

                <div class="component-card actionmailer">
                    <h3>üìß Action Mailer</h3>
                    <p class="description">Email sending framework with HTML/text templates, attachments, previews, and delivery configuration for various providers.</p>
                    <div class="usage">
<span style="color: var(--text-muted);"># Generate mailer</span>
rails g mailer Order confirmation shipped

<span style="color: var(--text-muted);"># app/mailers/order_mailer.rb</span>
class OrderMailer < ApplicationMailer
  def confirmation(order)
    @order = order
    mail(to: order.email, subject: "Order Confirmed")
  end
end

<span style="color: var(--text-muted);"># Send email</span>
OrderMailer.confirmation(@order).deliver_later
                    </div>
                </div>

                <div class="component-card activejob">
                    <h3>‚è±Ô∏è Active Job</h3>
                    <p class="description">Background job framework. Process async tasks like emails, reports, imports. Works with Sidekiq, Resque, Solid Queue, etc.</p>
                    <div class="usage">
<span style="color: var(--text-muted);"># Generate job</span>
rails g job ProcessOrder

<span style="color: var(--text-muted);"># app/jobs/process_order_job.rb</span>
class ProcessOrderJob < ApplicationJob
  queue_as :default
  
  def perform(order_id)
    order = Order.find(order_id)
    order.process!
  end
end

<span style="color: var(--text-muted);"># Enqueue job</span>
ProcessOrderJob.perform_later(@order.id)
ProcessOrderJob.set(wait: 1.hour).perform_later(@order.id)
                    </div>
                </div>

                <div class="component-card sessions">
                    <h3>üîë Sessions</h3>
                    <p class="description">Store user data across requests. Configurable storage backends: cookies (default), cache, database, Redis.</p>
                    <div class="usage">
<span style="color: var(--text-muted);"># Store in session</span>
session[:user_id] = @user.id
session[:cart] = []

<span style="color: var(--text-muted);"># Read from session</span>
current_user_id = session[:user_id]

<span style="color: var(--text-muted);"># Clear session</span>
session.delete(:user_id)
reset_session  <span style="color: var(--text-muted);"># Clear everything</span>

<span style="color: var(--text-muted);"># config/initializers/session_store.rb</span>
Rails.application.config.session_store :cookie_store,
  key: '_myapp_session',
  expire_after: 14.days
                    </div>
                </div>
            </div>
        </section>

        <!-- Quick Reference -->
        <div class="quick-ref">
            <h2>‚ö° Quick Reference</h2>
            <div class="quick-ref-grid">
                <div class="quick-item">
                    <span class="label">Start server</span>
                    <span class="command">bin/dev</span>
                </div>
                <div class="quick-item">
                    <span class="label">Console</span>
                    <span class="command">rails c</span>
                </div>
                <div class="quick-item">
                    <span class="label">Routes list</span>
                    <span class="command">rails routes</span>
                </div>
                <div class="quick-item">
                    <span class="label">Run migrations</span>
                    <span class="command">rails db:migrate</span>
                </div>
                <div class="quick-item">
                    <span class="label">Rollback</span>
                    <span class="command">rails db:rollback</span>
                </div>
                <div class="quick-item">
                    <span class="label">Reset database</span>
                    <span class="command">rails db:reset</span>
                </div>
                <div class="quick-item">
                    <span class="label">Generate model</span>
                    <span class="command">rails g model Name</span>
                </div>
                <div class="quick-item">
                    <span class="label">Generate controller</span>
                    <span class="command">rails g controller Names</span>
                </div>
                <div class="quick-item">
                    <span class="label">Generate scaffold</span>
                    <span class="command">rails g scaffold Name</span>
                </div>
                <div class="quick-item">
                    <span class="label">Run tests</span>
                    <span class="command">rails test</span>
                </div>
                <div class="quick-item">
                    <span class="label">Check routes</span>
                    <span class="command">rails routes -g product</span>
                </div>
                <div class="quick-item">
                    <span class="label">DB console</span>
                    <span class="command">rails dbconsole</span>
                </div>
            </div>
        </div>

        <!-- Footer -->
        <footer class="footer">
            <p>Ruby on Rails Cheat Sheet ‚Ä¢ Created with <span class="heart">‚ù§Ô∏è</span> for Michael Blake at Fastell Industrial Supplies</p>
        </footer>
    </div>
</body>
</html>
